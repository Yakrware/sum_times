
<%= form_for workday, html: {class: 'workday-form'} do |f| %>
  <%= f.hidden_field :user_id %>
  <div class="form-group">
    <%= f.label :date, 'Start Date' %>
    <%= f.text_field :date, data: {behavior: 'datepicker'} %>
  </div>
  
  <h4>Hours</h4>
  <div class="slider-intervals" data-slider-min="5" data-slider-max="21" data-slider-intervals="<%= workday.hours.map{|h| [h['start'], h['end']]} %>"></div>
  
  <h4>Recurs On</h4>
  
  <div class="row">
    <div class="col-sm-6">
      <div class="form-group">
      <%= f.check_box 'recurring_days', {:multiple => true, id: 'workday_monday' }, 1, @workday.recurring_days.include?(0) %> <%= f.label :monday %>
      </div>
        
      <div class="form-group">
      <%= f.check_box 'recurring_days', {:multiple => true, id: 'workday_tuesday' }, 2, @workday.recurring_days.include?(0) %> <%= f.label :tuesday %>
      </div>
        
      <div class="form-group">
      <%= f.check_box 'recurring_days', {:multiple => true, id: 'workday_wednesday' }, 3, @workday.recurring_days.include?(0) %> <%= f.label :wednesday %>
      </div>
        
      <div class="form-group">
      <%= f.check_box 'recurring_days', {:multiple => true, id: 'workday_thursday' }, 4, @workday.recurring_days.include?(0) %> <%= f.label :thursday %>
      </div>
    </div>
      
    <div class="col-sm-6">
      <div class="form-group">
      <%= f.check_box 'recurring_days', {:multiple => true, id: 'workday_friday' }, 5, @workday.recurring_days.include?(0) %> <%= f.label :friday %>
      </div>
        
      <div class="form-group">
      <%= f.check_box 'recurring_days', {:multiple => true, id: 'workday_saturday' }, 6, @workday.recurring_days.include?(0) %> <%= f.label :saturday %>
      </div>
        
      <div class="form-group">
      <%= f.check_box 'recurring_days', {:multiple => true, id: 'workday_sunday' }, 0, @workday.recurring_days.include?(0) %> <%= f.label :sunday %>
      </div>
    </div>
  </div>
    
  <div>
    <%= f.submit %>
  </div>
  
  <script>
    $(function(){
      $(document).on("focus", "[data-behavior='datepicker']", function(e){
          $(this).datepicker({"format": "yyyy-mm-dd", "weekStart": 0, "autoclose": true});
      });
    });
  </script>
<% end %>
